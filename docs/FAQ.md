# Часто задаваемые вопросы (FAQ)

## Общие вопросы

### Что такое DockFlow?

DockFlow - это веб-система для автоматизированного создания юридических документов с поддержкой чата с юристами в реальном времени и AI-ассистентом.

### Какие браузеры поддерживаются?

- Chrome 90+
- Firefox 88+
- Safari 14+
- Edge 90+

### Нужна ли регистрация для использования?

Нет, посетители могут использовать систему без регистрации. Регистрация требуется только для юристов и администраторов.

## Установка и настройка

### Какие системные требования?

**Минимальные:**
- CPU: 1 ядро, 1 ГГц
- RAM: 2 ГБ
- Диск: 10 ГБ
- ОС: Ubuntu 20.04+, CentOS 8+

**Рекомендуемые:**
- CPU: 2 ядра, 2 ГГц
- RAM: 4 ГБ
- Диск: 20 ГБ SSD
- ОС: Ubuntu 22.04 LTS

### Как установить Docker версию?

```bash
# Клонирование репозитория
git clone <repository-url>
cd dockflow

# Запуск с Docker Compose
docker-compose up -d

# Проверка статуса
docker-compose ps
```

### Как настроить базу данных?

1. Установите PostgreSQL 13+
2. Создайте пользователя и базу данных
3. Выполните SQL скрипты из папки `database/`

Подробная инструкция в [DATABASE.md](DATABASE.md).

## Использование

### Как создать документ?

1. Выберите тип документа из карусели или списка
2. Заполните форму с вопросами
3. Скачайте готовый документ в Word или PDF

### Как работает чат с юристом?

1. Посетитель отправляет сообщение
2. Система автоматически назначает чат доступному юристу
3. Если юристов нет, посетитель попадает в очередь
4. Юрист получает уведомление и подключается к чату

### Как стать юристом в системе?

Обратитесь к администратору системы для создания учетной записи юриста.

### Как работает AI-ассистент?

AI-ассистент автоматически отвечает на простые вопросы посетителей, используя предустановленные шаблоны ответов.

## Технические вопросы

### Как изменить порт приложения?

Отредактируйте файл `.env`:
```env
PORT=8080
```

Или установите переменную окружения:
```bash
export PORT=3000
pm2 restart dockflow
```

### Как настроить SSL сертификат?

```bash
# Установка Certbot
sudo apt install certbot python3-certbot-nginx

# Получение сертификата
sudo certbot --nginx -d yourdomain.com
```

### Как настроить резервное копирование?

Создайте скрипт бэкапа и добавьте в crontab:
```bash
# Ежедневно в 2:00
0 2 * * * /usr/local/bin/dockflow-backup.sh
```

### Как мониторить производительность?

```bash
# Мониторинг PM2
pm2 monit

# Мониторинг системы
htop

# Логи приложения
pm2 logs dockflow
```

## Проблемы и решения

### Приложение не запускается

1. Проверьте логи: `pm2 logs dockflow`
2. Проверьте .env файл
3. Убедитесь, что порт 8080 свободен
4. Проверьте подключение к базе данных

### База данных недоступна

1. Запустите PostgreSQL: `sudo systemctl start postgresql`
2. Проверьте подключение: `psql -U dockflow_user -d dockflow`
3. Проверьте логи: `sudo tail -f /var/log/postgresql/postgresql-14-main.log`

### Socket.IO не работает

1. Проверьте CORS настройки в коде
2. Убедитесь, что Nginx правильно проксирует WebSocket
3. Проверьте логи браузера на ошибки

### Высокое использование памяти

1. Ограничьте память в PM2: `max_memory_restart: '1G'`
2. Оптимизируйте базу данных: `VACUUM ANALYZE`
3. Увеличьте swap память

### Медленная работа

1. Добавьте индексы в базу данных
2. Включите gzip сжатие в Nginx
3. Настройте кэширование статических файлов
4. Оптимизируйте запросы к базе данных

## Безопасность

### Как защитить API?

1. Используйте HTTPS
2. Настройте rate limiting в Nginx
3. Используйте сильные JWT секреты
4. Регулярно обновляйте зависимости

### Как настроить файрвол?

```bash
# UFW
sudo ufw enable
sudo ufw allow ssh
sudo ufw allow 80
sudo ufw allow 443
sudo ufw deny 8080
```

### Как настроить Fail2Ban?

```bash
# Установка
sudo apt install fail2ban

# Настройка
sudo nano /etc/fail2ban/jail.local
sudo systemctl restart fail2ban
```

## Масштабирование

### Как увеличить производительность?

1. Увеличьте количество процессов PM2: `pm2 scale dockflow 4`
2. Настройте балансировку нагрузки в Nginx
3. Используйте Redis для сессий
4. Оптимизируйте базу данных

### Как настроить кластер?

1. Настройте несколько серверов
2. Используйте общую базу данных
3. Настройте балансировку нагрузки
4. Синхронизируйте файлы приложения

## Обслуживание

### Как обновить приложение?

```bash
# Остановка
pm2 stop dockflow

# Обновление кода
git pull origin main

# Установка зависимостей
npm install --production

# Запуск
pm2 start dockflow
```

### Как очистить логи?

```bash
# Очистка логов PM2
pm2 flush

# Очистка логов Nginx
sudo truncate -s 0 /var/log/nginx/access.log
sudo truncate -s 0 /var/log/nginx/error.log

# Настройка logrotate
sudo nano /etc/logrotate.d/dockflow
```

### Как мониторить систему?

1. Используйте PM2 monit
2. Настройте системные алерты
3. Мониторьте логи в реальном времени
4. Используйте внешние сервисы мониторинга

## Интеграция

### Можно ли интегрировать с CRM?

Да, через REST API. См. [API.md](API.md) для подробностей.

### Поддерживается ли мобильное приложение?

В настоящее время поддерживается только веб-версия, но API позволяет создать мобильное приложение.

### Можно ли кастомизировать интерфейс?

Да, фронтенд находится в папке `frontend/` и может быть изменен под ваши нужды.

## Поддержка

### Где получить помощь?

1. Проверьте [TROUBLESHOOTING.md](TROUBLESHOOTING.md)
2. Изучите логи приложения
3. Создайте issue в репозитории
4. Обратитесь к администратору системы

### Как сообщить об ошибке?

1. Опишите проблему подробно
2. Приложите логи ошибок
3. Укажите версию системы
4. Опишите шаги для воспроизведения

### Есть ли документация по API?

Да, полная документация API находится в [API.md](API.md).

---

**Не нашли ответ на свой вопрос?** Создайте issue в репозитории или обратитесь к администратору системы.
